<!DOCTYPE html>
<!--
	Overflow by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>[beta] Wine Style</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="static/assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="static/assets/css/main.css" />
		<!--[if lte IE 8]><link rel="stylesheet" href="static/assets/css/ie8.css" /><![endif]-->
		<script type="text/javascript"
	          src="{{ url_for('static', filename='jjquery.js') }}">
	  </script>
	</head>
	<body>

		<!-- Header -->
			<section id="header">
				<header>
					<img src="static/images/wine-img.png" alt="" style="opacity:0.4;filter:alpha(opacity=40);"/>
					<h1>Wine Style</h1>
					<p>offering suggestions that fit your taste</p>
				</header>
				<footer>
					<a href="#bybottle" class="button style2 scrolly" style="margin-right: 15px">Choose A Bottle</a>
					<a href="#bydescription" class="button style2 scrolly" style="margin-left: 15px">Describe By Taste</a>
				</footer>
			</section>

			<!-- Banner -->

		  <section id="banner">
				<header>
					<h2></h2>
				</header>
				<p></p>
				<footer>
				</footer>
			</section>

		<!-- Feature 1 -->
			<article id="bybottle" class="container box style1 right">
					<header>
						<h2>Select from a sample<br />
						of our wine library</h2>
					</header>
					<select name=wines id=wines method="GET" action="/">
						<option value="{{ wines[0][0] }}" selected>{{ wines[0][1] }}</option>
						{% for w_id, wine in wines[1:] %}
						<option value= "{{ w_id }}">{{ wine }}</option>
						{% endfor %}
					</select>
					<button id="bottle"  style="margin-left: 30px">Submit</button>
				</div>
			</article>

		<!-- Feature 2 -->
			<article id="bydescription" class="container box style1 right">
				<a href="#" class="image fit"><img src="static/images/brooke-lark-200721.jpg" alt="" /></a>
				<div class="inner">
					<header>
						<h2>Describe<br />
						what you like</h2>
					</header>
					<p>Try something like: <br />
						I enjoy dry red wines with a full body. With notes of cherry and oak.<br />
					</p>
						<textarea id="user_input",
											rows="3", cols="30"></textarea>
				<!--		<a href="#recommendation">  How to jump to rec sec -->
						<button id="description">Submit</button>
					<!--	</a>-->
				</div>
			</article>

	 <!-- Recommendation -->
			<article id="recommendation" class="container box style1 right">
					<header>
						<h2>Recommendations</h2>
					</header>
					<table id="table" border = '1'>
						<thead>
							<tr>
								<th>Name</th>
								<th>Province</th>
								<th>~Price</th>
							</tr>
						</thead>
						<tbody>
							<tr>
							</tr>
						</tbody>
					</table>
					<footer>
					</footer>
			</article>

			<!-- Banner -->
			<article id="other">
			</article>

			<section id="banner">
				<header>
					<p><center>Not what you want? Try Again! </center> </p>
					<a href="#bybottle" class="button style2 scrolly" style="margin-right: 15px">By Bottle</a>
					<a href="#bydescription" class="button style2 scrolly" style="margin-left: 15px">By Taste</a>
				</header>
				<p></p>
				<footer>
				</footer>
			</section>

		<!-- Portfolio [Not in Use]-->
<!--
			<article id="rec" class="container box style2">
				<header>
					<h2>Recommendations</h2>
					<p>Some wines to explore<br />
					based on what you told us</p>
				</header>
				<div class="inner gallery">
					<div class="row 0%">
						<div class="3u 12u(mobile)"><a href="static/images/fulls/01.jpg" class="image fit"><img src="static/images/thumbs/01.jpg" alt="" title="Ad infinitum" /></a></div>
						<div class="3u 12u(mobile)"><a href="static/images/fulls/02.jpg" class="image fit"><img src="static/images/thumbs/02.jpg" alt="" title="Dressed in Clarity" /></a></div>
						<div class="3u 12u(mobile)"><a href="static/images/fulls/03.jpg" class="image fit"><img src="static/images/thumbs/03.jpg" alt="" title="Raven" /></a></div>
						<div class="3u 12u(mobile)"><a href="static/images/fulls/04.jpg" class="image fit"><img src="static/images/thumbs/04.jpg" alt="" title="I'll have a cup of Disneyland, please" /></a></div>
					</div>
					<div class="row 0%">
						<div class="3u 12u(mobile)"><a href="static/images/fulls/05.jpg" class="image fit"><img src="static/images/thumbs/05.jpg" alt="" title="Cherish" /></a></div>
						<div class="3u 12u(mobile)"><a href="static/images/fulls/06.jpg" class="image fit"><img src="static/images/thumbs/06.jpg" alt="" title="Different." /></a></div>
						<div class="3u 12u(mobile)"><a href="static/images/fulls/07.jpg" class="image fit"><img src="static/images/thumbs/07.jpg" alt="" title="History was made here" /></a></div>
						<div class="3u 12u(mobile)"><a href="static/images/fulls/08.jpg" class="image fit"><img src="static/images/thumbs/08.jpg" alt="" title="People come and go and walk away" /></a></div>
					</div>
				</div>
			</article>
	-->

		<!-- Contact [ Not in Use] -->
		<!--
			<article class="container box style3">
				<header>
					<h2>Get in Touch</h2>
					<p>Have questions or feedback on this project? I'd like to hear from you!</p>
				</header>
				<form method="post" action="#">
					<div class="row 50%">
						<div class="6u 12u$(mobile)"><input type="text" class="text" name="name" placeholder="Name" /></div>
						<div class="6u$ 12u$(mobile)"><input type="text" class="text" name="email" placeholder="Email" /></div>
						<div class="12u$">
							<textarea name="message" placeholder="Message"></textarea>
						</div>
						<div class="12u$">
							<ul class="actions">
								<li><input type="submit" value="Send Message" /></li>
							</ul>
						</div>
					</div>
				</form>
			</article>
		-->

		<!-- Generic [HTML code block help] -->
		<!--
			<article class="container box style3">
				<header>
					<h2>Generic Box</h2>
					<p>Just a generic box. Nothing to see here.</p>
				</header>
				<section>
					<header>
						<h3>Paragraph</h3>
						<p>This is a subtitle</p>
					</header>
					<p>Phasellus nisl nisl, varius id <sup>porttitor sed pellentesque</sup> ac orci. Pellentesque
					habitant <strong>strong</strong> tristique <b>bold</b> et netus <i>italic</i> malesuada <em>emphasized</em> ac turpis egestas. Morbi
					leo suscipit ut. Praesent <sub>id turpis vitae</sub> turpis pretium ultricies. Vestibulum sit
					amet risus elit.</p>
				</section>
				<section>
					<header>
						<h3>Blockquote</h3>
					</header>
					<blockquote>Fringilla nisl. Donec accumsan interdum nisi, quis tincidunt felis sagittis eget.
					tempus euismod. Vestibulum ante ipsum primis in faucibus.</blockquote>
				</section>
				<section>
					<header>
						<h3>Divider</h3>
					</header>
					<p>Donec consectetur <a href="#">vestibulum dolor et pulvinar</a>. Etiam vel felis enim, at viverra
					ligula. Ut porttitor sagittis lorem, quis eleifend nisi ornare vel. Praesent nec orci
					facilisis leo magna. Cras sit amet urna eros, id egestas urna. Quisque aliquam
					tempus euismod. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices
					posuere cubilia.</p>
					<hr />
					<p>Donec consectetur vestibulum dolor et pulvinar. Etiam vel felis enim, at viverra
					ligula. Ut porttitor sagittis lorem, quis eleifend nisi ornare vel. Praesent nec orci
					facilisis leo magna. Cras sit amet urna eros, id egestas urna. Quisque aliquam
					tempus euismod. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices
					posuere cubilia.</p>
				</section>
				<section>
					<header>
						<h3>Unordered List</h3>
					</header>
					<ul class="default">
						<li>Donec consectetur vestibulum dolor et pulvinar. Etiam vel felis enim, at viverra ligula. Ut porttitor sagittis lorem, quis eleifend nisi ornare vel.</li>
						<li>Donec consectetur vestibulum dolor et pulvinar. Etiam vel felis enim, at viverra ligula. Ut porttitor sagittis lorem, quis eleifend nisi ornare vel.</li>
						<li>Donec consectetur vestibulum dolor et pulvinar. Etiam vel felis enim, at viverra ligula. Ut porttitor sagittis lorem, quis eleifend nisi ornare vel.</li>
						<li>Donec consectetur vestibulum dolor et pulvinar. Etiam vel felis enim, at viverra ligula. Ut porttitor sagittis lorem, quis eleifend nisi ornare vel.</li>
					</ul>
				</section>
				<section>
					<header>
						<h3>Ordered List</h3>
					</header>
					<ol class="default">
						<li>Donec consectetur vestibulum dolor et pulvinar. Etiam vel felis enim, at viverra ligula. Ut porttitor sagittis lorem, quis eleifend nisi ornare vel.</li>
						<li>Donec consectetur vestibulum dolor et pulvinar. Etiam vel felis enim, at viverra ligula. Ut porttitor sagittis lorem, quis eleifend nisi ornare vel.</li>
						<li>Donec consectetur vestibulum dolor et pulvinar. Etiam vel felis enim, at viverra ligula. Ut porttitor sagittis lorem, quis eleifend nisi ornare vel.</li>
						<li>Donec consectetur vestibulum dolor et pulvinar. Etiam vel felis enim, at viverra ligula. Ut porttitor sagittis lorem, quis eleifend nisi ornare vel.</li>
					</ol>
				</section>
				<section>
					<header>
						<h3>Table</h3>
					</header>
					<div class="table-wrapper">
						<table class="default">
							<thead>
								<tr>
									<th>ID</th>
									<th>Name</th>
									<th>Description</th>
									<th>Price</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>45815</td>
									<td>Something</td>
									<td>Ut porttitor sagittis lorem quis nisi ornare.</td>
									<td>29.99</td>
								</tr>
								<tr>
									<td>24524</td>
									<td>Nothing</td>
									<td>Ut porttitor sagittis lorem quis nisi ornare.</td>
									<td>19.99</td>
								</tr>
								<tr>
									<td>45815</td>
									<td>Something</td>
									<td>Ut porttitor sagittis lorem quis nisi ornare.</td>
									<td>29.99</td>
								</tr>
								<tr>
									<td>24524</td>
									<td>Nothing</td>
									<td>Ut porttitor sagittis lorem quis nisi ornare.</td>
									<td>19.99</td>
								</tr>
							</tbody>
							<tfoot>
								<tr>
									<td colspan="3"></td>
									<td>100.00</td>
								</tr>
							</tfoot>
						</table>
					</div>
				</section>
				<section>
					<header>
						<h3>Form</h3>
					</header>
					<form method="post" action="#">
						<div class="row">
							<div class="6u">
								<input class="text" type="text" name="name" id="name" value="" placeholder="John Doe" />
							</div>
							<div class="6u">
								<input class="text" type="text" name="email" id="email" value="" placeholder="johndoe@domain.tld" />
							</div>
						</div>
						<div class="row">
							<div class="12u">
								<select name="department" id="department">
									<option value="">Choose a department</option>
									<option value="1">Manufacturing</option>
									<option value="2">Administration</option>
									<option value="3">Support</option>
								</select>
							</div>
						</div>
						<div class="row">
							<div class="12u">
								<input class="text" type="text" name="subject" id="subject" value="" placeholder="Enter your subject" />
							</div>
						</div>
						<div class="row">
							<div class="12u">
								<textarea name="message" id="message" placeholder="Enter your message"></textarea>
							</div>
						</div>
						<div class="row">
							<div class="12u">
								<ul class="actions">
									<li><input type="submit" value="Submit" /></li>
									<li><input type="reset" class="style3" value="Clear Form" /></li>
								</ul>
							</div>
						</div>
					</form>
				</section>
			</article>
		-->

		<section id="footer">
			<!--
			<ul class="icons">
				<li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
				<li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
				<li><a href="#" class="icon fa-google-plus"><span class="label">Google+</span></a></li>
				<li><a href="#" class="icon fa-pinterest"><span class="label">Pinterest</span></a></li>
				<li><a href="#" class="icon fa-dribbble"><span class="label">Dribbble</span></a></li>
				<li><a href="#" class="icon fa-linkedin"><span class="label">LinkedIn</span></a></li>
			</ul>
			-->
			<div class="copyright">
				<ul class="menu">
					<li>Wine Style - A Data Science Project</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
				</ul>
			</div>
		</section>

		<!-- Scripts -->
			<script src="static/assets/js/jquery.min.js"></script>
			<script src="static/assets/js/jquery.scrolly.min.js"></script>
			<script src="static/assets/js/jquery.poptrox.min.js"></script>
			<script src="static/assets/js/skel.min.js"></script>
			<script src="static/assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="static/assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="static/assets/js/main.js"></script>

		  <!-- Text Javascript -->
		  <script type="text/javascript">

			let get_description = function() {
			  return $("textarea#user_input").val();
			}

			let write_table = function(recommendations) {
				var r = $.parseJSON(recommendations);
				console.log(r)
				$("#table tbody").detach();
				var tr;
				for (var i=0; i < 5; i++) {
					tr = $('<tr>');
					tr.append("<td>" + r[i].name + "</td>");
					tr.append("<td>" + r[i].province + "</td>");
					tr.append("<td>$" + r[i].price + "</td></tr>");
					$('#table').append(tr);
				}
			}

			let send_description = function() {
			  let user_input = get_description();
			  $.ajax({
			      url: "/predict",
			      type: "POST",
			      data: JSON.stringify({"user_input": [user_input, '2']}),
			      contentType: "application/json",
			      success: function(data) {
								console.log(data.recommendations);
								write_table(data.recommendations);
							}
					});
			}

			$(document).ready(function() {
			  $("button#description").click(function() {
			    send_description();
			  });
				$("button#description").click(function() {
					$('html, body').animate({
				scrollTop: $("#recommendation").offset().top - 100
					});
				});
			});

			let get_bottle = function() {
				return $("select#wines").val();
			}

			let send_bottle = function() {
				let user_input = get_bottle();
				$.ajax({
					url: "/predict",
					type: "POST",
					data: JSON.stringify({"user_input": [user_input, '1']}),
					contentType: "application/json",
					success: function(data) {
						console.log(data.recommendations);
						write_table(data.recommendations);
					}
				});
			}

			$(document).ready(function() {
				$("button#bottle").click(function() {
					send_bottle();
				});
				$("button#bottle").click(function() {
					$('html, body').animate({
    		scrollTop: $("#recommendation").offset().top - 100
					});
				});
			});

			</script>

	</body>
</html>
